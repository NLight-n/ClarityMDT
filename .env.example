# Database Configuration
# PostgreSQL connection string
# For Docker Compose: use "postgres" (service name) as hostname
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://postgres:pgpassword@postgres:5432/mdtapp

# PostgreSQL Service Configuration (for Docker Compose)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=pgpassword
POSTGRES_DB=mdtapp
POSTGRES_PORT=5432

# Application Port
# Port on which the application will run (default: 3000)
# Change this if port 3000 is already in use (e.g., 3001, 3002, etc.)
PORT=3000

# NextAuth Configuration
# Secret key for JWT encryption (generate a random string)
# You can generate one using: openssl rand -base64 32
NEXTAUTH_SECRET=your-secret-key-here
# Base URL of your application (OPTIONAL - not required with trustHost: true)
# NextAuth will automatically detect the host from incoming requests
# Only set this if you need to override the auto-detected URL
# NEXTAUTH_URL=http://localhost:3000

# MinIO Configuration
# MinIO server endpoint (hostname or IP)
# For Docker Compose: use "minio" (service name) for internal communication
# For external MinIO: use the actual hostname or IP
MINIO_ENDPOINT=minio
# MinIO server port (default: 9000 for HTTP, 443 for HTTPS)
MINIO_PORT=9000
# MinIO console port (default: 9001)
MINIO_CONSOLE_PORT=9001
# MinIO root user (default: minioadmin)
MINIO_ROOT_USER=minioadmin
# MinIO root password (default: minioadmin)
MINIO_ROOT_PASSWORD=minioadmin
# Use SSL/TLS for MinIO connection (true/false)
MINIO_SSL=false
# MinIO access key (username) - used by the application
MINIO_ACCESS_KEY=minioadmin
# MinIO secret key (password) - used by the application
MINIO_SECRET_KEY=minioadmin
# MinIO bucket name for storing files
MINIO_BUCKET=case-attachments

# Note: Telegram bot token and SMTP settings are now configured
# through the Admin settings page in the application UI.
# They are stored encrypted in the database and no longer
# need to be set in environment variables.

# =============================================================================
# HIPAA COMPLIANCE CONFIGURATION
# =============================================================================

# Session Timeout (HIPAA §164.312(a)(2)(iii) - Automatic Logoff)
# Session duration in minutes before automatic logout
# Default: 15 minutes (recommended for healthcare applications)
SESSION_MAX_AGE_MINUTES=15

# HTTPS Enforcement (HIPAA §164.312(e)(1) - Encryption in Transit)
# Set to "true" in production to redirect all HTTP requests to HTTPS
# Leave unset or "false" for development/LAN access
ENFORCE_HTTPS=false

# PHI Encryption Key (HIPAA §164.312(a)(2)(iv) - Encryption at Rest)
# Optional: separate encryption key for Protected Health Information
# If not set, NEXTAUTH_SECRET will be used for PHI encryption
# Generate using: openssl rand -base64 32
# PHI_ENCRYPTION_KEY=your-phi-encryption-key-here

# Enable PHI Encryption at Rest
# Set to "true" to encrypt sensitive patient data (patientName, MRN) in database
# IMPORTANT: Run data migration before enabling on existing data
# Default: false (disabled)
ENABLE_PHI_ENCRYPTION=false
